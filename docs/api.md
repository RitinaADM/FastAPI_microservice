# API документация

## Общие положения

API микросервиса Category Service предоставляет RESTful интерфейс для управления категориями. Все эндпоинты доступны по префиксу `/categories`.

## Форматы данных

Все запросы и ответы используют формат JSON. Даты передаются в формате ISO 8601.

## Обработка ошибок

В случае ошибок API возвращает соответствующий HTTP статус код и тело ответа в формате JSON:

```json
{
  "detail": "Описание ошибки"
}
```

## Эндпоинты

### Создание категории

**POST** `/categories/`

Создает новую категорию.

#### Запрос

```json
{
  "name": "string",
  "description": "string (опционально)"
}
```

#### Ответ

```json
{
  "id": "string",
  "name": "string",
  "description": "string"
}
```

#### Коды ответов

- `200` - Категория успешно создана
- `400` - Некорректные данные запроса
- `500` - Внутренняя ошибка сервера

### Получение категории

**GET** `/categories/{id}`

Получает информацию о категории по её идентификатору.

#### Параметры

- `id` (path) - Идентификатор категории

#### Ответ

```json
{
  "id": "string",
  "name": "string",
  "description": "string"
}
```

#### Коды ответов

- `200` - Категория найдена
- `404` - Категория не найдена
- `500` - Внутренняя ошибка сервера

### Получение всех категорий

**GET** `/categories/`

Получает список всех категорий.

#### Ответ

```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string"
  }
]
```

#### Коды ответов

- `200` - Список категорий успешно получен
- `500` - Внутренняя ошибка сервера

### Обновление категории

**PUT** `/categories/{id}`

Обновляет информацию о категории.

#### Параметры

- `id` (path) - Идентификатор категории

#### Запрос

```json
{
  "name": "string",
  "description": "string (опционально)"
}
```

#### Ответ

```json
{
  "id": "string",
  "name": "string",
  "description": "string"
}
```

#### Коды ответов

- `200` - Категория успешно обновлена
- `400` - Некорректные данные запроса
- `404` - Категория не найдена
- `500` - Внутренняя ошибка сервера

### Удаление категории

**DELETE** `/categories/{id}`

Удаляет категорию по её идентификатору.

#### Параметры

- `id` (path) - Идентификатор категории

#### Ответ

```json
{
  "message": "Category deleted successfully"
}
```

#### Коды ответов

- `200` - Категория успешно удалена
- `404` - Категория не найдена
- `500` - Внутренняя ошибка сервера

### Получение статистики по категориям

**GET** `/categories/statistics`

Получает статистику по всем категориям.

#### Ответ

```json
{
  "total_count": "integer",
  "average_name_length": "number",
  "longest_name": "string",
  "shortest_name": "string"
}
```

#### Коды ответов

- `200` - Статистика успешно получена
- `500` - Внутренняя ошибка сервера